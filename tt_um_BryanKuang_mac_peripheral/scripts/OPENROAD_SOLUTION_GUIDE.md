# OpenROAD é—®é¢˜è§£å†³æ–¹æ¡ˆæŒ‡å—

## ä»åˆæˆåˆ° Post-Layout STA çš„å®Œæ•´æµç¨‹

### ğŸš¨ é—®é¢˜

è¿è¡Œåç«¯æµç¨‹æ—¶é‡åˆ°ï¼š`OpenROAD not found in PATH!`

### ğŸ¯ è§£å†³æ–¹æ¡ˆæ¦‚è§ˆ

æˆ‘ä¸ºä½ å‡†å¤‡äº† **4 ç§è§£å†³æ–¹æ¡ˆ**ï¼ŒæŒ‰æ¨èç¨‹åº¦æ’åºï¼š

---

## ğŸ¥‡ **æ–¹æ¡ˆ 1: æ™ºèƒ½è‡ªåŠ¨æ£€æµ‹æµç¨‹ (æ¨è)**

è¿™ä¸ªè„šæœ¬ä¼šè‡ªåŠ¨æ£€æµ‹ä½ çš„ç³»ç»Ÿï¼Œå°è¯•æ‰€æœ‰å¯èƒ½çš„æ–¹æ³•ï¼š

```bash
# åœ¨è¿œç«¯æœåŠ¡å™¨ä¸Šè¿è¡Œ
[s4kuang@jrl-server scripts]$ ./smart_backend_flow.sh
```

**å®ƒä¼šè‡ªåŠ¨ï¼š**

- âœ… æ£€æµ‹å½“å‰å¯ç”¨å·¥å…·
- ğŸ”„ å°è¯•åŠ è½½æ¨¡å—ç³»ç»Ÿ
- ğŸ³ ä½¿ç”¨ Dockerï¼ˆå¦‚æœå¯ç”¨ï¼‰
- ğŸ“Š å›é€€åˆ°ç®€åŒ–åˆ†æ

---

## ğŸ¥ˆ **æ–¹æ¡ˆ 2: æ¨¡å—ç³»ç»ŸåŠ è½½**

å¦‚æœä½ çš„æœåŠ¡å™¨ä½¿ç”¨æ¨¡å—ç³»ç»Ÿï¼ˆå¸¸è§äºå­¦æœ¯ç¯å¢ƒï¼‰ï¼š

```bash
# æ­¥éª¤ 1: æ£€æŸ¥ç³»ç»ŸçŠ¶æ€
[s4kuang@jrl-server scripts]$ ./check_eda_tools.sh

# æ­¥éª¤ 2: å°è¯•åŠ è½½æ¨¡å—
[s4kuang@jrl-server scripts]$ ./load_eda_modules.sh

# æ­¥éª¤ 3: è¿è¡Œå®Œæ•´æµç¨‹
[s4kuang@jrl-server scripts]$ ./complete_backend_flow.sh
```

**å¸¸è§æ¨¡å—å‘½ä»¤ï¼š**

```bash
# æŸ¥çœ‹å¯ç”¨æ¨¡å—
module avail | grep -i eda
module avail | grep -i openroad

# åŠ è½½æ¨¡å—
module load openroad
module load eda
module load vlsi
```

---

## ğŸ¥‰ **æ–¹æ¡ˆ 3: Docker å®¹å™¨æ–¹æ¡ˆ**

å¦‚æœæœåŠ¡å™¨æœ‰ Dockerï¼š

```bash
# ä½¿ç”¨ Docker è¿è¡Œå®Œæ•´æµç¨‹
[s4kuang@jrl-server scripts]$ ./docker_openroad.sh
```

**ä¼˜ç‚¹ï¼š**

- âœ… ä¸éœ€è¦å®‰è£… OpenROAD
- âœ… ç¯å¢ƒä¸€è‡´æ€§å¥½
- âœ… å®Œæ•´çš„ PnR + SPEF æå–

---

## ğŸ… **æ–¹æ¡ˆ 4: ç®€åŒ–åˆ†æï¼ˆå¤‡ç”¨æ–¹æ¡ˆï¼‰**

å¦‚æœåªæœ‰ OpenSTA å¯ç”¨ï¼š

```bash
# è¿è¡ŒåŸºäºå¢å¼ºçº¿è´Ÿè½½æ¨¡å‹çš„ä¼°ç®—
[s4kuang@jrl-server scripts]$ sta simplified_post_layout_analysis.tcl
```

**è¯´æ˜ï¼š**

- âš ï¸ è¿™æ˜¯**ä¼°ç®—**ï¼Œä¸å¦‚çœŸæ­£çš„ post-layout å‡†ç¡®
- âœ… ä½†æ¯” pre-layout åˆ†ææ›´æ¥è¿‘å®é™…æƒ…å†µ
- âœ… å¯ä»¥ç»™å‡ºæ—¶åºè¶‹åŠ¿æŒ‡å¯¼

---

## ğŸ”§ **å…·ä½“æ“ä½œæ­¥éª¤**

### **åœ¨è¿œç«¯æœåŠ¡å™¨ä¸Šï¼š**

1. **é¦–å…ˆä¸Šä¼ æ‰€æœ‰æ–‡ä»¶åˆ°æœåŠ¡å™¨ï¼š**

```bash
# åœ¨æœ¬åœ°
scp -r scripts/ username@jrl-server:/path/to/project/
```

2. **ç™»å½•å¹¶è¿›å…¥ç›®å½•ï¼š**

```bash
ssh username@jrl-server
cd /path/to/project/scripts/
```

3. **è¿è¡Œæ™ºèƒ½æ£€æµ‹æµç¨‹ï¼š**

```bash
chmod +x *.sh
./smart_backend_flow.sh
```

---

## ğŸ“Š **é¢„æœŸç»“æœ**

### **æˆåŠŸæƒ…å†µ A: å®Œæ•´ PnR æµç¨‹**

```
âœ… ç”Ÿæˆæ–‡ä»¶ï¼š
  - post_route_netlist.v          # å¸ƒçº¿åç½‘è¡¨
  - post_route_parasitics.spef    # SPEF å¯„ç”Ÿå‚æ•°æ–‡ä»¶
  - post_layout_timing_report.txt # è¯¦ç»†æ—¶åºæŠ¥å‘Š
  - post_layout_summary.txt       # æ€»ç»“æŠ¥å‘Š
```

### **æˆåŠŸæƒ…å†µ B: ç®€åŒ–åˆ†æ**

```
âœ… ç”Ÿæˆæ–‡ä»¶ï¼š
  - simplified_post_layout_timing_report.txt
  - simplified_post_layout_summary.txt
  - æä¾›ä¼°ç®—çš„ post-layout æ—¶åº
```

---

## ğŸš¨ **æ•…éšœæ’é™¤**

### **å¦‚æœæ¨¡å—åŠ è½½å¤±è´¥ï¼š**

```bash
# æ£€æŸ¥å¯ç”¨æ¨¡å—
module list
module avail

# è”ç³»ç³»ç»Ÿç®¡ç†å‘˜
# æˆ–æŸ¥çœ‹æœåŠ¡å™¨æ–‡æ¡£
```

### **å¦‚æœ Docker å¤±è´¥ï¼š**

```bash
# æ£€æŸ¥ Docker çŠ¶æ€
docker --version
docker info

# å¯èƒ½éœ€è¦æƒé™æˆ–å¯åŠ¨æœåŠ¡
```

### **å¦‚æœæ‰€æœ‰æ–¹æ¡ˆéƒ½å¤±è´¥ï¼š**

1. **è”ç³»ç³»ç»Ÿç®¡ç†å‘˜** è¯·æ±‚å®‰è£… OpenROAD
2. **ä½¿ç”¨äº‘å¹³å°** å¦‚ Efabless ç­‰
3. **æœ¬åœ°å®‰è£…** åœ¨ä¸ªäººæœºå™¨ä¸Šå®‰è£…å·¥å…·

---

## ğŸ’¡ **é•¿æœŸè§£å†³æ–¹æ¡ˆ**

### **æ–¹æ¡ˆ A: è¯·æ±‚ç³»ç»Ÿç®¡ç†å‘˜å®‰è£…**

```bash
# å‘é‚®ä»¶ç»™ç®¡ç†å‘˜ï¼Œè¯·æ±‚å®‰è£…ï¼š
# - OpenROAD
# - OpenSTA
# - Yosys (å¦‚æœæ²¡æœ‰)
```

### **æ–¹æ¡ˆ B: ä¸ªäººç¼–è¯‘å®‰è£…**

```bash
# å¦‚æœæœ‰æƒé™ï¼Œå¯ä»¥å°è¯•ç¼–è¯‘å®‰è£…åˆ°ç”¨æˆ·ç›®å½•
git clone --recursive https://github.com/The-OpenROAD-Project/OpenROAD.git
cd OpenROAD
./build_openroad.sh --local
```

---

## ğŸ¯ **ç°åœ¨å°±å¼€å§‹ï¼**

**æœ€ç®€å•çš„å¼€å§‹æ–¹å¼ï¼š**

```bash
# åœ¨è¿œç«¯æœåŠ¡å™¨ä¸Šè¿è¡Œè¿™ä¸€æ¡å‘½ä»¤
[s4kuang@jrl-server scripts]$ ./smart_backend_flow.sh
```

è¿™ä¸ªè„šæœ¬ä¼šè‡ªåŠ¨å¤„ç†æ‰€æœ‰æ£€æµ‹å’Œå›é€€é€»è¾‘ï¼Œç»™ä½ æœ€ä½³çš„å¯ç”¨è§£å†³æ–¹æ¡ˆï¼

---

## âœ¨ **æ€»ç»“**

ä¸ç®¡ä½ çš„ç³»ç»Ÿæœ‰ä»€ä¹ˆé™åˆ¶ï¼Œæ€»æœ‰ä¸€ç§æ–¹æ¡ˆèƒ½è®©ä½ å®Œæˆ post-layout æ—¶åºåˆ†æï¼š

1. ğŸ¥‡ **å®Œæ•´ PnR** (æœ€å‡†ç¡®)
2. ğŸ¥ˆ **Docker å®¹å™¨** (æ¬¡é€‰)
3. ğŸ¥‰ **ç®€åŒ–åˆ†æ** (ä¼°ç®—ä½†æœ‰ç”¨)

ç°åœ¨å°±è¯•è¯• `./smart_backend_flow.sh` å§ï¼ğŸš€
